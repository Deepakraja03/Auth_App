{"ast":null,"code":"import _regeneratorRuntime from\"E:/Auth_App/auth-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/Auth_App/auth-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"E:/Auth_App/auth-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"E:/Auth_App/auth-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"E:/Auth_App/auth-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{signInStart,signInSuccess,signInFailure}from'../redux/user/userSlice';import{useDispatch,useSelector}from'react-redux';import OAuth from'../components/OAuth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignIn(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useSelector=useSelector(function(state){return state.user;}),loading=_useSelector.loading,error=_useSelector.error;var baseUrl='https://authapp-backend.vercel.app';var navigate=useNavigate();var dispatch=useDispatch();var handleChange=function handleChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.id,e.target.value)));};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;dispatch(signInStart());_context.next=5;return fetch(\"\".concat(baseUrl,\"/auth/signin\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)});case 5:res=_context.sent;_context.next=8;return res.json();case 8:data=_context.sent;if(!(data.success===false)){_context.next=12;break;}dispatch(signInFailure(data));return _context.abrupt(\"return\");case 12:dispatch(signInSuccess(data));navigate('/');_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](1);dispatch(signInFailure(_context.t0));case 19:case\"end\":return _context.stop();}},_callee,null,[[1,16]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 max-w-lg mx-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl text-center font-semibold my-7\",children:\"Sign In\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"flex flex-col gap-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",id:\"email\",className:\"bg-slate-100 p-3 rounded-lg\",onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",id:\"password\",className:\"bg-slate-100 p-3 rounded-lg\",onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{disabled:loading,className:\"bg-slate-700 text-white p-3 rounded-lg uppercase hover:opacity-95 disabled:opacity-80\",children:loading?'Loading...':'Sign In'}),/*#__PURE__*/_jsx(OAuth,{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mt-5\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Dont Have an account?\"}),/*#__PURE__*/_jsx(Link,{to:\"/sign-up\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-500\",children:\"Sign up\"})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-700 mt-5\",children:error?error.message||'Something went wrong!':''})]});}","map":{"version":3,"names":["useState","Link","useNavigate","signInStart","signInSuccess","signInFailure","useDispatch","useSelector","OAuth","jsx","_jsx","jsxs","_jsxs","SignIn","_useState","_useState2","_slicedToArray","formData","setFormData","_useSelector","state","user","loading","error","baseUrl","navigate","dispatch","handleChange","e","_objectSpread","_defineProperty","target","id","value","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","data","wrap","_callee$","_context","prev","next","preventDefault","fetch","concat","method","headers","body","JSON","stringify","sent","json","success","abrupt","t0","stop","_x","apply","arguments","className","children","onSubmit","type","placeholder","onChange","disabled","to","message"],"sources":["E:/Auth_App/auth-app/src/pages/SignIn.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport {\r\n  signInStart,\r\n  signInSuccess,\r\n  signInFailure,\r\n} from '../redux/user/userSlice';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport OAuth from '../components/OAuth';\r\n\r\nexport default function SignIn() {\r\n  const [formData, setFormData] = useState({});\r\n  const { loading, error } = useSelector((state) => state.user);\r\n  const baseUrl = 'https://authapp-backend.vercel.app'\r\n\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.id]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      dispatch(signInStart());\r\n      const res = await fetch(`${baseUrl}/auth/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(formData),\r\n      });\r\n      const data = await res.json();\r\n      if (data.success === false) {\r\n        dispatch(signInFailure(data));\r\n        return;\r\n      }\r\n      dispatch(signInSuccess(data));\r\n      navigate('/');\r\n    } catch (error) {\r\n      dispatch(signInFailure(error));\r\n    }\r\n  };\r\n  return (\r\n    <div className='p-3 max-w-lg mx-auto'>\r\n      <h1 className='text-3xl text-center font-semibold my-7'>Sign In</h1>\r\n      <form onSubmit={handleSubmit} className='flex flex-col gap-4'>\r\n        <input\r\n          type='email'\r\n          placeholder='Email'\r\n          id='email'\r\n          className='bg-slate-100 p-3 rounded-lg'\r\n          onChange={handleChange}\r\n        />\r\n        <input\r\n          type='password'\r\n          placeholder='Password'\r\n          id='password'\r\n          className='bg-slate-100 p-3 rounded-lg'\r\n          onChange={handleChange}\r\n        />\r\n        <button\r\n          disabled={loading}\r\n          className='bg-slate-700 text-white p-3 rounded-lg uppercase hover:opacity-95 disabled:opacity-80'\r\n        >\r\n          {loading ? 'Loading...' : 'Sign In'}\r\n        </button>\r\n        <OAuth />\r\n      </form>\r\n      <div className='flex gap-2 mt-5'>\r\n        <p>Dont Have an account?</p>\r\n        <Link to='/sign-up'>\r\n          <span className='text-blue-500'>Sign up</span>\r\n        </Link>\r\n      </div>\r\n      <p className='text-red-700 mt-5'>\r\n        {error ? error.message || 'Something went wrong!' : ''}\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}